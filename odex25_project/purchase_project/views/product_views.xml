<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="product_template_form_view_invoice_policy_inherit_sale_project" model="ir.ui.view">
        <field name="name">product.template.inherit.sale.projectform</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_only_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='bill']" position="after">
                <group name="purchase_projec" string="Purchase Project" attrs="{'invisible': [('type','!=','service')]}">
                    <field name="purchase_service_tracking" 
                    widget="radio" attrs="{'invisible': [('type','!=','service')]}"/>
                    <field name="purchase_project_id" 
                    context="{'default_allow_billable': True, 'default_bill_type': 'supplier_task'}"
                     attrs="{'invisible':[('purchase_service_tracking','!=','task_global_project')], 
                     'required':[('purchase_service_tracking','==','task_global_project')]}"/>
                    <field name="purchase_project_template_id" 
                    context="{'active_test': False, 'default_allow_billable': True, 'default_bill_type': 'supplier_project', 'default_pricing_type': 'fixed_rate'}"
                     attrs="{'invisible':[('purchase_service_tracking','not in',['task_in_project', 'project_only'])]}"/>
                </group>
            </xpath>
        </field>
    </record>

</odoo>
