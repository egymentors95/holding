<?xml version="1.0" encoding="utf-8"?>
<odoo>

<!-- For Error -->
<template id="error_support_account" name="Error Occurred">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure oe_empty">

            <div class="col-12 mt-5">
                    <div class="card card-bordered max-width-480 min-height-320 m-auto">
                        
                        <div class="card-body m-auto">
                            <div class="col-md-12 text-center">
                                <h3>Sorry, An Error Occurred</h3>
                                <i class="mt-3 fa fa-times-circle-o fa-6x text-danger"></i>
            
                            </div>
                            <div class="col-md-12 text-center">
                            
                                <t t-if="error">
                                    <div class="alert alert-danger">
                                        <span t-esc="error"/>
                                    </div>                          
                                </t>
                            </div>
                    
                        </div>
                    </div>
                </div>

            </div>
        </t>
</template>

<!-- For Success -->
<template id="success_support_account" name="Registration Successful">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure oe_empty">

                <div class="col-12 mt-5">
                    <div class="card card-bordered max-width-480 min-height-320 m-auto">
                        
                        <div class="card-body m-auto">
                            <div class="col-md-12 text-center">
                                <h3>Customer Support Account</h3>    
                                <i class="mt-3 fa fa-check-circle-o fa-6x text-success"></i>
                            </div>
                            <div class="col-md-12 text-center">
                                <br></br>
                                <p> Your support account has successfully created. You can sign-in to your account now.</p>
                                
                                <div class="col-md-12 text-center link-message">
                                    <a class="fa fa-sign-in" href="/web/login">
                                        <span>Sign-in</span>
                                    </a>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </t>
</template>

<!-- For create_support_account -->
<template id="support_account_form" name="Support Account">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure oe_empty">

            <div class="col-lg-12 mt-5">
                <div class="shadow-lg p-3 card">
                        <!-- create_support_account Form -->
                        <div class="col-12 mt-5">
                            <div class="card  min-height-320  m-auto">
                                <div class="card-body">
                                    <div class="row input-group m-1 mt-3 d-flex justify-content-center"
                                         t-if="name">
                                        <div class="col-xs-4">
                                            <span t-esc="name"/>
                                        </div>
                                    </div>

                                    <div class="row input-group m-1 mt-3 d-flex justify-content-center"
                                         t-if="description">
                                        <div class="col-xs-4">
                                            <span t-esc="description"/>
                                        </div>
                                    </div>

                                    <form class="row mr-0 ml-0" action="/helpdesk/create_support_account"
                                          method="post" enctype="multipart/form-data" id="create_support_account_form">
                                        <input type="hidden" name="csrf_token"
                                               t-att-value="request.csrf_token()"/>
                                        <input name="ref_id"  type="hidden"
                                           t-att-value="obj_id"/>
                                        <input name="ref_email" type="hidden"
                                           t-att-value="obj_email"/>
                                        <input name="fullname" type="hidden"
                                           t-att-value="obj_name"/>

                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

                                            <h5>Your Subscription Plan</h5>
                                            <div t-if="is_sub == False">
                                            <div class="form-group">
                                                <label for="recurrency" class="control-label">Plan</label> 
                                                <select style="height: 50px; overflow: scroll;"  required="required" id="recurrency" name="recurrency"  class="form-control">                
                                                        <option value="">Choose...</option>
                                                        <t t-foreach="recurrency_list" t-as="rec">
                                                            <option t-att-value="rec[0]">
                                                                <t t-esc="rec[1]" t-att-value="rec[0]"/>
                                                            </option>
                                                        </t>   
                                                </select>    
                                            </div>

                                            <div class="form-group">
                                                <label for="month_num"
                                                       class="col-form-label">Month Number
                                                </label>
                                                <input class="form-control" type="text" name="month_num"
                                                       required="required"
                                                       value="" id="month_num"/>
                                            </div>

                                           <div class="form-group">
                                                <label for="date_start" class="control-label">From Date</label>
                                                <input name="date_start" type="date"
                                                    t-att-value="datetime.datetime.now().date()"
                                                    id="date_start" class="form-control"
                                                    required="required" />
                                            </div>

                                            <div id="plan_info"></div>
                                            <div id="error_msg"></div>
                                            <input name="allow_submit" type="hidden" value="no" id="allow_submit"/>
                                        </div>
                                        <!-- If no subscription -->

                                        <!-- If a subscription -->
                                        <div t-if="is_sub == True">
                                            <input name="sub_id"  type="hidden"
                                           t-att-value="subscription.id"/>

                                            <div class="form-group">
                                                <label for="sub_name"
                                                       class="col-form-label">Subscription
                                                </label>
                                                <input class="form-control" type="text" name="sub_name"
                                                       readonly="readonly"
                                                       t-att-value="subscription.display_name" 
                                                       id="sub_name"/>
                                            </div>

                                            <div class="form-group">
                                                <label for="month_num"
                                                       class="col-form-label">Month Number
                                                </label>
                                                <input class="form-control" type="text" name="month_num"
                                                       readonly="readonly"
                                                       t-att-value="subscription.month_num" 
                                                       id="month_num"/>
                                            </div>

                                           <div class="form-group">
                                                <label for="date_start" class="control-label">From Date</label>
                                                <input name="date_start" type="date"
                                                    t-att-value="subscription.date_start"
                                                    id="date_start" class="form-control"
                                                    readonly="readonly" />
                                            </div>

                                            <div class="form-group">
                                                <label for="date_end" class="control-label">To Date</label>
                                                <input name="date_end" type="date"
                                                    t-att-value="subscription.date_end"
                                                    id="date_end" class="form-control"
                                                    readonly="readonly" />
                                            </div>

                                            <input name="allow_submit" type="hidden" value="yes" id="allow_submit"/>
                                        </div>
                                        <!-- End If a subscription -->

                                            <hr></hr>
                                            <h5>Your information</h5>
                                            <div class="form-group">
                                                <label for="username"
                                                       class="col-form-label">Email
                                                </label>
                                                <input class="form-control" type="text" name="username"
                                                   required="required"
                                                   value="" id="username"/>
                                            </div>

                                            <div class="form-group">
                                                <label for="phone"
                                                       class="col-form-label">Phone
                                                </label>
                                                <input class="form-control" type="text" name="phone"
                                                       required="required"
                                                       value="" id="phone"/>
                                            </div>

                                            <div class="form-group">
                                                <label for="password1"
                                                       class="col-form-label">Password
                                                </label>
                                                <input class="form-control" type="password" name="password1"
                                                   autocomplete="off"
                                                   required="required"
                                                   value="" id="password1"/>
                                            </div>

                                            <div class="form-group">
                                                <label for="password2"
                                                       class="col-form-label">Confirm Password
                                                </label>
                                                <input class="form-control" type="password" name="password2"
                                                    autocomplete="off"
                                                    required="required"
                                                    value="" id="password2"/>
                                            </div>

                                            <div class="input-group justify-content-center">
                                                    <button
                                                            class="btn btn-success btn-md btn-submit">Submit
                                                    </button>
                                              
                                            </div>
                                            <!-- Submit -->

                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                </div>
    </div>
    </div>  
    </t>
</template>



<!-- For create_support_subscription -->
<template id="support_subscription_form" name="Support Subscription">
        <t t-call="website.layout">
            <div id="wrap" class="oe_structure oe_empty">

            <div class="col-lg-12 mt-5">
                <div class="shadow-lg p-3 card">
                        <!-- create_support_subscription Form -->
                        <div class="col-12 mt-5">
                            <div class="card  min-height-320  m-auto">
                                <div class="card-body">
                                    <div class="row input-group m-1 mt-3 d-flex justify-content-center"
                                         t-if="name">
                                        <div class="col-xs-4">
                                            <span t-esc="name"/>
                                        </div>
                                    </div>

                                    <div class="row input-group m-1 mt-3 d-flex justify-content-center"
                                         t-if="description">
                                        <div class="col-xs-4">
                                            <span t-esc="description"/>
                                        </div>
                                    </div>

                                    <form class="row mr-0 ml-0" action="/helpdesk/create_support_subscription"
                                          method="post" enctype="multipart/form-data" id="create_support_subscription_form">
                                        <input type="hidden" name="csrf_token"
                                               t-att-value="request.csrf_token()"/>
                                        <input name="ref_id"  type="hidden"
                                           t-att-value="obj_id"/>
                                        <input name="ref_email" type="hidden"
                                           t-att-value="obj_email"/>
                                        <input name="fullname" type="hidden"
                                           t-att-value="obj_name"/>

                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

                                        <h5>Your Subscription Plan</h5>
                                        <div t-if="not subscription">
                                            <div class="form-group">
                                                <label for="recurrency" class="control-label">Plan</label> 
                                                <select style="height: 50px; overflow: scroll;"  required="required" id="recurrency" name="recurrency"  class="form-control">                
                                                        <option value="">Choose...</option>
                                                        <t t-foreach="recurrency_list" t-as="rec">
                                                            <option t-att-value="rec[0]">
                                                                <t t-esc="rec[1]" t-att-value="rec[0]"/>
                                                            </option>
                                                        </t>   
                                                </select>    
                                            </div>

                                            <div class="form-group">
                                                <label for="month_num"
                                                       class="col-form-label">Month Number
                                                </label>
                                                <input class="form-control" type="text" name="month_num"
                                                       required="required"
                                                       value="" id="month_num"/>
                                            </div>
                                            
                                           <div class="form-group">
                                                <label for="date_start" class="control-label">From Date</label>
                                                <input name="date_start" type="date"
                                                    t-att-value="datetime.datetime.now().date()"
                                                    id="date_start" class="form-control"
                                                    required="required" />
                                            </div>

                                            <div id="plan_info"></div>
                                            <div id="error_msg"></div>
                                            <input name="allow_submit" type="hidden" value="no" id="allow_submit"/>
                                        </div>
                                        <!-- If no subscription -->

                                        <!-- If a subscription -->
                                        <div t-if="subscription">
                                            <input name="sub_id"  type="hidden"
                                           t-att-value="subscription.id"/>

                                            <div class="form-group">
                                                <label for="sub_name"
                                                       class="col-form-label">Subscription
                                                </label>
                                                <input class="form-control" type="text" name="sub_name"
                                                       readonly="readonly"
                                                       t-att-value="subscription.display_name" 
                                                       id="sub_name"/>
                                            </div>

                                            <div class="form-group">
                                                <label for="month_num"
                                                       class="col-form-label">Month Number
                                                </label>
                                                <input class="form-control" type="text" name="month_num"
                                                       readonly="readonly"
                                                       t-att-value="subscription.month_num" 
                                                       id="month_num"/>
                                            </div>

                                           <div class="form-group">
                                                <label for="date_start" class="control-label">From Date</label>
                                                <input name="date_start" type="date"
                                                    t-att-value="subscription.date_start"
                                                    id="date_start" class="form-control"
                                                    readonly="readonly" />
                                            </div>

                                            <div class="form-group">
                                                <label for="date_end" class="control-label">To Date</label>
                                                <input name="date_end" type="date"
                                                    t-att-value="subscription.date_end"
                                                    id="date_end" class="form-control"
                                                    readonly="readonly" />
                                            </div>

                                            <input name="allow_submit" type="hidden" value="yes" id="allow_submit"/>
                                        </div>
                                        <!-- End If a subscription -->

                                        <div class="input-group justify-content-center">
                                                <button
                                                        class="btn btn-success btn-md btn-submit">Submit
                                                </button>
                                          
                                        </div>
                                        <!-- Submit -->

                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                </div>
    </div>
    </div>  
    </t>
</template>

</odoo>
